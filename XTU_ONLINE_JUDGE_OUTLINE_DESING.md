# XTU ONELINE JUDGE SYSTEM OUTLINE DESIGN
## 说明
湘潭大学在线判题系统（OJ）概要设计文档

## 需求背景
现在在线系统的痛点在于没有教师这个角色，判题不是判点的。
现在系统只有两个 角色，一个是管理员，一个是学生，现在需要加入老师这个角色。
老师这个角色要做的事情是可以管理自己的题目，可以管理自己的学生，可以管理自己的考试。

## 主要内容
### 题目管理
#### 题目操作（老师、管理员增加，编辑，查看）

---

> *** 角色为老师、管理员 位置为对应老师个人题库（管理员可以操作所有老师的题库***

1. 添加文件夹
    * 文件夹标题

1. 增加题目：
    * 题目标题
    * 题目内容
    * 题目标准代码 
    * 标准数据文件（用于oj进行比对判题使用）
        >题目数据支持多文件数据，方便添加多文件数据
        每个数据是可以设置分数的:  100个文件也逐个设置分数？
        一个题目的数据前后顺序也是可控的 （做一个文件循序映射表，判题顺序读数据库的顺序就好）
        因为判题会遇到错误就停止，改这个了比较麻烦。
    
2. 编辑：
    * 题目标题
    * 题目内容
    * 题目标准代码
    * 标准数据文件（用于oj进行比对判题使用）
    
3. 查看：
    * 题目标题
    * 题目内容
    * 题目标准代码
    * 标准数据文件（用于oj进行比对判题使用）

---

> *** 角色为老师、管理员、学生 位置为公共查看页面 ***

#### 题目操作（同学、老师、管理员查看）
1. 查看
    * 选择题号
    * 选择老师
    * 选择考试、课程

#### 控制题目权限、状态（老师、管理员）
1. 题目的状态：
    * 隐藏 (类似审核，权限只对管理员开放：用于老师、学生隐藏题目)
    * 私有可见 仅自己、管理员可见
    * 公共可见 对所有人可见

2. 题目的权限：
    * 上传题目的人称为题目的owner
    * owner可以控制题目的状态

### 学生管理
这个部分我实在是不知道怎么想！

### 考试、课程管理
#### 添加，删除参加考试、课程的学生
1. 添加参加考试的班级
    1. 专业、班级二级多选框
    3. 学生多选框
2. 添加参加考试的学生
    1. 学号搜索、添加
    2. 姓名搜索、添加
3. 删除参加考试的班级
    1. 专业、班级二级多选框、删除
    3. 学生多选框、删除
4. 删除参加考试的学生
    1. 学号搜索、选框、删除
    2. 姓名搜索、选框、删除
#### 添加，编辑，删除考试、课程，编辑考试开始、结束时间，以及考试、课程的状态（未开始、考试中、考试结束）（系统需要在考试结束前：30分钟、5分钟、结束时设置提醒）
1. 添加
    * 名称（必填）
    * 介绍内容（备注）
    * 开始时间 开始时间大于或等于当前时间
    * 结束时间 结束时间大于开始时间，时间间隔至少1小时

2. 编辑
    * 名称（必填）
    * 介绍内容（备注）
    * 开始时间 开始时间大于或等于当前时间 状态为"考试中"不能编辑
    * 结束时间 结束时间大于开始时间，时间间隔至少1小时 状态为"考试中"不能编辑
    * 延长结束时间段 当前状态为"考试中"能编辑
    * 延长原因（备注） 延长考试时间时必填

3. 删除

#### 考试中进行题目管理，需求见题目管理。
* 提供多选框，可单选
* 提供题目搜索，按题号、作者搜索
* 提供

## 分工
### 谢大：
* 判题
* 修改判题端的数据持久层
### 潘帅：
* 数据库的设计
### 朱义：
* web前端

### 不确定点：
数据和提交表设计上应该差不多，具体的我们再沟通一下，你们可以先设计

## 开发方式
* 迭代开发

## 环境、服务部署
* 系统服务：判题端windows
* 数据库：mysql
* web服务器：tomcat
* java框架：spring
* 前端框架：bootstrap
